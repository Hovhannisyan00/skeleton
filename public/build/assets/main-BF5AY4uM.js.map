{"version":3,"file":"main-BF5AY4uM.js","sources":["../../../resources/js/common/main.js"],"sourcesContent":["$(function () {\n  select2Init();\n\n  datepickerInit();\n\n  datetimePickerInit();\n\n  ckEditorInit();\n\n  openMenu();\n\n  copyMlInfo();\n\n  responseMessage();\n\n  minimizeMenu();\n});\nwindow.showSuccessMessage = function (message) {\n  $.toast({\n    text: message,\n    hideAfter: 2000,\n    position: 'top-right',\n    stack: false,\n    loader: false,\n    icon: 'success',\n    allowToastClose: false,\n  });\n};\n\nwindow.showErrorMessage = function (message) {\n  $.toast({\n    heading: 'Error',\n    hideAfter: 2000,\n    text: message,\n    position: 'top-right',\n    stack: false,\n    loader: false,\n    icon: 'error',\n    allowToastClose: false,\n  });\n};\n// function showSuccessMessage(message) {\n//   $.toast({\n//     text: message,\n//     hideAfter: 2000,\n//     position: 'top-right',\n//     stack: false,\n//     loader: false,\n//     icon: 'success',\n//     allowToastClose: false,\n//   });\n//\n// };\n// function showErrorMessage(message) {\n//   $.toast({\n//     heading: 'Error',\n//     hideAfter: 2000,\n//     text: message,\n//     position: 'top-right',\n//     stack: false,\n//     loader: false,\n//     icon: 'error',\n//     allowToastClose: false,\n//   });\n//\n// };\nfunction select2Init (div = undefined, className = 'select2') {\n   let select2 = $(`select.${className}`);\n   if (typeof div !== 'undefined') {\n    select2 = div.find(`select.${className}`);\n\n  }\n   $.each(select2, function () {\n    $(this).select2({\n      placeholder: $trans('__dashboard.select.option.default'),\n      minimumResultsForSearch: 10,\n      tags: $(this).data('allow-tags') || false,\n      allowClear: $(this).data('allow-clear') || false,\n    });\n  });\n\n};\nfunction select2Reset(select) {\n   if (select.length) {\n    select.select2('val', '');\n    select.find('option').not(':first-child').remove();\n  }\n\n};\nfunction select2SetValues (select, data) {\n   $.each(data, (key, value) => {\n    select.append(new Option(value, key, false, false)).trigger('change.select2');\n  });\n\n};\nfunction disableField(field, disable) {\n   if (typeof disable === 'undefined') {\n    disable = true;\n\n  }\n   field.prop('disabled', disable);\n\n};\nfunction loadContent (content, removeLoad) {\n   if (typeof removeLoad === 'undefined') {\n    content.addClass('loading-content position-relative');\n  } else {\n    content.removeClass('loading-content position-relative');\n  }\n\n};\n\nfunction minimizeMenu() {\n  $('.brand-toggle').click(() => {\n    $('.page').toggleClass('minimaize-menu');\n  });\n  $('.open-menu').click(() => {\n    $('.page').toggleClass('left-menu-opened');\n    $('.open-menu').toggleClass('open-menu-opened');\n  });\n}\n// ClassicEditor\n\nfunction ckEditorInit() {\n  const ckeditorEls = document.querySelectorAll('.ckeditor5');\n\n  ckeditorEls.forEach((item) => {\n    ClassicEditor.create(item, {\n      cloudServices: {\n        tokenUrl: 'https://33333.cke-cs.com/token/dev/ijrDsqFix838Gh3wGO3F77FSW94BwcLXprJ4APSp3XQ26xsUHTi0jcb1hoBt',\n        uploadUrl: 'https://33333.cke-cs.com/easyimage/upload/',\n      },\n    })\n      .then((editor) => {\n        if ($(item).attr('disabled')) {\n          editor.isReadOnly = true;\n        }\n\n        editor.model.document.on('change:data', (evt, data) => {\n          editor.updateSourceElement();\n        });\n      })\n      .catch((error) => {\n        console.error(error);\n      });\n  });\n}\n\nfunction datepickerInit() {\n  const datepickerInputs = $('.datepicker');\n\n  if (datepickerInputs.length) {\n    $.each(datepickerInputs, function () {\n      const self = $(this);\n\n      self.datetimepicker({\n        timepicker: false,\n        format: 'd.m.Y',\n        scrollMonth: false,\n        scrollInput: false,\n        onChangeDateTime(dp, $input) {\n          let backendVal = '';\n          if ($input.val()) {\n            backendVal = moment($input.val(), 'DD.MM.YYYY').format($dashboardDates.js.date_format);\n          }\n          self.siblings('.backend-date-value').val(backendVal);\n        },\n      });\n    });\n  }\n}\n\nfunction datetimePickerInit() {\n  const datetimePickerInputs = $('.datetimepicker');\n\n  if (datetimePickerInputs.length) {\n    $.each(datetimePickerInputs, function () {\n      const self = $(this);\n\n      self.datetimepicker({\n        format: 'd.m.Y H:i',\n        onChangeDateTime(dp, $input) {\n          let backendVal = '';\n          if ($input.val()) {\n            backendVal = moment($input.val(), 'DD.MM.YYYY HH:mm').format($dashboardDates.js.date_time_format);\n          }\n          self.siblings('.backend-date-value').val(backendVal);\n        },\n      });\n    });\n  }\n}\n\nfunction openMenu() {\n  $('.open-menu').click(() => {\n    $('.page').toggleClass('left-menu-opened');\n    $('.open-menu').toggleClass('open-menu-opened');\n  });\n}\n\nfunction copyMlInfo() {\n  const copyMlButton = $('.copy-ml-info-btn');\n\n  if (copyMlButton.length) {\n    copyMlButton.click(function () {\n      const self = $(this);\n      const currentTabData = self.closest('.tab-pane').find(':input');\n      const toTabData = $(`#__mls__tab__${self.data('to-lang-code')}`);\n\n      self.prop('disabled', true);\n\n      $.each(currentTabData, function () {\n        const inputName = $(this).attr('name');\n\n        if (inputName) {\n          const toInputName = inputName.replace(self.data('current-lang-code'), self.data('to-lang-code'));\n          const toInput = toTabData.find(`*[name=\"${toInputName}\"]`);\n\n          if (toInput.length) {\n            // @todo ckeditor set val\n            if (toInput.hasClass('ckeditor5')) {\n              // toInput.ckeditor5().setData($(this).val());\n            } else {\n              toInput.val($(this).val());\n            }\n          }\n\n          setTimeout(() => {\n            self.prop('disabled', false);\n          }, 120);\n        }\n      });\n    });\n  }\n}\n\n\nfunction responseMessage() {\n  const responseMessageStorage = localStorage.getItem('_message');\n  if (responseMessageStorage) {\n    // eslint-disable-next-line no-undef\n    showSuccessMessage(responseMessageStorage);\n  }\n  localStorage.removeItem('_message');\n}\n"],"names":["__vite_legacy_guard","select2Init","datepickerInit","datetimePickerInit","ckEditorInit","openMenu","copyMlInfo","responseMessage","minimizeMenu","message","div","className","select2","item","editor","evt","data","error","datepickerInputs","self","dp","$input","backendVal","datetimePickerInputs","copyMlButton","currentTabData","toTabData","inputName","toInputName","toInput","responseMessageStorage"],"mappings":"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"}