System.register([],(function(t,e){"use strict";return{execute:function(){(new class{constructor(){this.coreParentClass="core-multiple-inputs"}_addMultipleItem(){const t=this;$(".core-multiple-button").click((function(){const e=$(this).closest(`.${t.coreParentClass}`);e.find("select.select2").length&&e.find("select.select2").select2("destroy");const a=e.find(".group-item:first").clone(),n=a.find("input").length,i=e.find(".group-item").length;n&&($.each(a.find(":input").not("input[type='hidden']").not("button"),((t,e)=>{const n=$(e).closest(".form-group"),r=n.find(".validation-error");if("file"===$(e).attr("type")){const t=$(e).attr("id"),n=$(e).attr("data-name").replace("0",i);$(e).val("").attr("data-name",n);const r=t.replace("0",i);$(e).attr("id",r);const l=a.find(`[for="${t}"]`);if($(e).closest(".__uploaded__files").remove(),l.length){const t=l[0],e=$(t).attr("for").replace("0",i),a=$(t).attr("data-input").replace("0",i),n=$(t).attr("data-preview").replace("0",i);$(t).attr("for",e),$(t).attr("data-input",a),$(t).attr("data-preview",n)}a.find(".hidden-file-inputs").html(""),a.find(".__uploaded__files").html(""),a.find(".__file__list__default").html("")}else{const t=$(e),n=t.attr("name").replace("0",i),r=a.find(`label[for="${t.attr("id")}"]`);t.val("").attr("name",n);const l=`${t.attr("data-name")}_${(new Date).getTime()}`;r.length&&r.attr("for",l),t.attr("id",l)}const l=r.attr("data-name").replace("0",i);r.attr("data-name",l).removeClass("has-error").text(""),n.removeClass("is-invalid")})),n>1&&a.addClass("grouped"),a.attr("data-index",i),a.append(t._getRemoveIcon()),e.find(".multiple-group-content").append(a)),e.find("select.select2").length&&select2Init(e)}))}_deleteMultipleItem(){const t=this;$(document).on("click",".remove-multiple-item",(function(){const e=$(this).closest(".core-multiple-inputs");$(this).closest(".group-item").remove(),t._resetInputName(e)}))}_resetInputName(t){let e=1;t.find(".group-item:not(:first)").each(((t,a)=>{$(a).find(":input").each(((t,n)=>{const i=$(a).attr("data-index"),r=$(n).closest(".form-group").find(".validation-error");if($(n).attr("name")){const t=$(n).attr("name").replace(i,e),a=r.attr("data-name").replace(i,e);$(n).attr("name",t),r.attr("data-name",a)}})),$(a).attr("data-index",e),e++}))}_getRemoveIcon(){return'<i class="flaticon-circle remove-multiple-item"></i>'}init(){$(`.${this.coreParentClass}`).length&&(this._addMultipleItem(),this._deleteMultipleItem())}}).init()}}}));
//# sourceMappingURL=MultipleInputs-legacy-DyoiIWIF.js.map
