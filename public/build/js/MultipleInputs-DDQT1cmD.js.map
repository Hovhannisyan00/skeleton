{"version":3,"file":"MultipleInputs-DDQT1cmD.js","sources":["../../../resources/js/core/MultipleInputs.js"],"sourcesContent":["class MultipleInputs {\n  constructor() {\n    this.coreParentClass = 'core-multiple-inputs';\n  }\n\n  _addMultipleItem() {\n    const $this = this;\n    $('.core-multiple-button').click(function () {\n      const parentGroupDiv = $(this).closest(`.${$this.coreParentClass}`);\n\n      if (parentGroupDiv.find('select.select2').length) {\n        parentGroupDiv.find('select.select2').select2('destroy');\n      }\n\n      const clonedGroup = parentGroupDiv.find('.group-item:first').clone();\n      const clonedGroupInputLength = clonedGroup.find('input').length;\n      const groupItemsLength = parentGroupDiv.find('.group-item').length;\n\n      if (clonedGroupInputLength) {\n        $.each(clonedGroup.find(':input').not(\"input[type='hidden']\").not('button'), (k, input) => {\n          const formGroup = $(input).closest('.form-group');\n          const errorSpan = formGroup.find('.validation-error');\n\n          if ($(input).attr('type') === 'file') {\n            const fileId = $(input).attr('id');\n\n            const replacedName = $(input).attr('data-name').replace('0', groupItemsLength);\n            $(input).val('').attr('data-name', replacedName);\n            const replacedId = fileId.replace('0', groupItemsLength);\n            $(input).attr('id', replacedId);\n\n            const labels = clonedGroup.find(`[for=\"${fileId}\"]`);\n            $(input).closest('.__uploaded__files').remove();\n\n            if (labels.length) {\n              const label = labels[0];\n              const labelReplacedFor = $(label).attr('for').replace('0', groupItemsLength);\n              const labelReplacedDataInput = $(label).attr('data-input').replace('0', groupItemsLength);\n              const labelReplacedDataPreview = $(label).attr('data-preview').replace('0', groupItemsLength);\n\n              $(label).attr('for', labelReplacedFor);\n              $(label).attr('data-input', labelReplacedDataInput);\n              $(label).attr('data-preview', labelReplacedDataPreview);\n            }\n\n            clonedGroup.find('.hidden-file-inputs').html('');\n            clonedGroup.find('.__uploaded__files').html('');\n            clonedGroup.find('.__file__list__default').html('');\n          } else {\n            const currentInput = $(input);\n            const replacedName = currentInput.attr('name').replace('0', groupItemsLength);\n            const currentLabel = clonedGroup.find(`label[for=\"${currentInput.attr('id')}\"]`);\n\n            // input\n            currentInput.val('').attr('name', replacedName);\n            const newInputId = `${currentInput.attr('data-name')}_${new Date().getTime()}`;\n\n            // Add New I'd\n            if (currentLabel.length) {\n              currentLabel.attr('for', newInputId);\n            }\n            currentInput.attr('id', newInputId);\n          }\n\n          const replacedErrorName = errorSpan.attr('data-name').replace('0', groupItemsLength);\n\n          errorSpan.attr('data-name', replacedErrorName).removeClass('has-error').text('');\n          formGroup.removeClass('is-invalid');\n        });\n\n        if (clonedGroupInputLength > 1) {\n          clonedGroup.addClass('grouped');\n        }\n\n        clonedGroup.attr('data-index', groupItemsLength);\n        clonedGroup.append($this._getRemoveIcon());\n\n        parentGroupDiv.find('.multiple-group-content').append(clonedGroup);\n      }\n\n      if (parentGroupDiv.find('select.select2').length) {\n        select2Init(parentGroupDiv);\n      }\n    });\n  }\n\n  _deleteMultipleItem() {\n    const $this = this;\n    $(document).on('click', '.remove-multiple-item', function () {\n      const parentData = $(this).closest('.core-multiple-inputs');\n\n      $(this).closest('.group-item').remove();\n      $this._resetInputName(parentData);\n    });\n  }\n\n  _resetInputName(parentData) {\n    let i = 1;\n    parentData.find('.group-item:not(:first)').each((groupKey, groupItem) => {\n      $(groupItem).find(':input').each((k, input) => {\n        const dataNum = $(groupItem).attr('data-index');\n        const formGroup = $(input).closest('.form-group');\n        const errorSpan = formGroup.find('.validation-error');\n\n        if ($(input).attr('name')) {\n          const replacedName = $(input).attr('name').replace(dataNum, i);\n          const replacedErrorName = errorSpan.attr('data-name').replace(dataNum, i);\n\n          $(input).attr('name', replacedName);\n          errorSpan.attr('data-name', replacedErrorName);\n        }\n      });\n\n      $(groupItem).attr('data-index', i);\n\n      i++;\n    });\n  }\n\n  _getRemoveIcon() {\n    return '<i class=\"flaticon-circle remove-multiple-item\"></i>';\n  }\n\n  init() {\n    if ($(`.${this.coreParentClass}`).length) {\n      this._addMultipleItem();\n      this._deleteMultipleItem();\n    }\n  }\n}\n\nnew MultipleInputs().init();\n"],"names":["MultipleInputs","$this","parentGroupDiv","clonedGroup","clonedGroupInputLength","groupItemsLength","k","input","formGroup","errorSpan","fileId","replacedName","replacedId","labels","label","labelReplacedFor","labelReplacedDataInput","labelReplacedDataPreview","currentInput","currentLabel","newInputId","replacedErrorName","parentData","i","groupKey","groupItem","dataNum"],"mappings":"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"}