{"version":3,"file":"ConfirmModal-BBiIPeT7.js","sources":["../../../resources/js/core/ConfirmModal.js"],"sourcesContent":["// eslint-disable-next-line no-underscore-dangle\nlet _selfConfirmModal;\n\n// eslint-disable-next-line no-unused-vars\nclass ConfirmModal {\n  constructor() {\n    this.init();\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  modalVisible(type = 'show') {\n    $('#d_confirm__modal').modal(type);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  deleteEvent() {\n    const event = new CustomEvent(_selfConfirmModal.deleteEventName, {\n      detail: {\n        element: _selfConfirmModal.deletableItem,\n        status: 'OK',\n      },\n    });\n\n    window.dispatchEvent(event);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  loader(is = false) {\n    const spinner = $('#d_confirm__modal button.delete-btn .spinner-border');\n    if (is) spinner.css({ display: 'inline-block' });\n    else spinner.hide();\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async deleteHandle() {\n    _selfConfirmModal.loader(true);\n    if (_selfConfirmModal.deleteUrl) {\n      // eslint-disable-next-line no-undef\n      await axios.delete(_selfConfirmModal.deleteUrl)\n        .then((resp) => {\n          resp = resp.data;\n          _selfConfirmModal.deleteEvent();\n          // eslint-disable-next-line no-undef\n          if (resp.message) showSuccessMessage(resp.message);\n        });\n    } else {\n      _selfConfirmModal.deleteEvent();\n    }\n    _selfConfirmModal.modalVisible('hide');\n    _selfConfirmModal.loader();\n  }\n\n  clickDeletableItem() {\n    _selfConfirmModal.deletableItem = this;\n    _selfConfirmModal.modalVisible();\n    _selfConfirmModal.deleteUrl = $(this).attr('data-url');\n    _selfConfirmModal.deleteEventName = $(this).attr('data-event-name');\n  }\n\n  $_clicks() {\n    $('body').on('click', 'button.__confirm__delete__btn', this.clickDeletableItem);\n    $('#d_confirm__modal').on('click', 'button.delete-btn', this.deleteHandle);\n  }\n\n  init() {\n    _selfConfirmModal = this;\n    _selfConfirmModal.deleteEventName = 'confirmModalEvent';\n    this.$_clicks();\n  }\n}\n\n// eslint-disable-next-line no-new\nnew ConfirmModal();\n"],"names":["__vite_legacy_guard","_selfConfirmModal","ConfirmModal","type","event","is","spinner","resp"],"mappings":"AAAA,SAAAA,GAAA,CAAA,YAAA,IAAA,OAAA,GAAA,EAAA,MAAA,IAAA,CAAA,EAAA,iBAAA,CAAA,EAAA,EAAA,KAAA,CAAA,CACA,IAAIC,EAGJ,MAAMC,CAAa,CACjB,aAAc,CACZ,KAAK,KAAM,CACf,CAGE,aAAaC,EAAO,OAAQ,CAC1B,EAAE,mBAAmB,EAAE,MAAMA,CAAI,CACrC,CAGE,aAAc,CACZ,MAAMC,EAAQ,IAAI,YAAYH,EAAkB,gBAAiB,CAC/D,OAAQ,CACN,QAASA,EAAkB,cAC3B,OAAQ,IACT,CACP,CAAK,EAED,OAAO,cAAcG,CAAK,CAC9B,CAGE,OAAOC,EAAK,GAAO,CACjB,MAAMC,EAAU,EAAE,qDAAqD,EACnED,EAAIC,EAAQ,IAAI,CAAE,QAAS,cAAc,CAAE,EAC1CA,EAAQ,KAAM,CACvB,CAGE,MAAM,cAAe,CACnBL,EAAkB,OAAO,EAAI,EACzBA,EAAkB,UAEpB,MAAM,MAAM,OAAOA,EAAkB,SAAS,EAC3C,KAAMM,GAAS,CACdA,EAAOA,EAAK,KACZN,EAAkB,YAAa,EAE3BM,EAAK,SAAS,mBAAmBA,EAAK,OAAO,CAC3D,CAAS,EAEHN,EAAkB,YAAa,EAEjCA,EAAkB,aAAa,MAAM,EACrCA,EAAkB,OAAQ,CAC9B,CAEE,oBAAqB,CACnBA,EAAkB,cAAgB,KAClCA,EAAkB,aAAc,EAChCA,EAAkB,UAAY,EAAE,IAAI,EAAE,KAAK,UAAU,EACrDA,EAAkB,gBAAkB,EAAE,IAAI,EAAE,KAAK,iBAAiB,CACtE,CAEE,UAAW,CACT,EAAE,MAAM,EAAE,GAAG,QAAS,gCAAiC,KAAK,kBAAkB,EAC9E,EAAE,mBAAmB,EAAE,GAAG,QAAS,oBAAqB,KAAK,YAAY,CAC7E,CAEE,MAAO,CACLA,EAAoB,KACpBA,EAAkB,gBAAkB,oBACpC,KAAK,SAAU,CACnB,CACA,CAGA,IAAIC"}