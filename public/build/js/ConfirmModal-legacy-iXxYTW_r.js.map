{"version":3,"file":"ConfirmModal-legacy-iXxYTW_r.js","sources":["../../../resources/js/core/ConfirmModal.js"],"sourcesContent":["// eslint-disable-next-line no-underscore-dangle\nlet _selfConfirmModal;\n\n// eslint-disable-next-line no-unused-vars\nclass ConfirmModal {\n  constructor() {\n    this.init();\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  modalVisible(type = 'show') {\n    $('#d_confirm__modal').modal(type);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  deleteEvent() {\n    const event = new CustomEvent(_selfConfirmModal.deleteEventName, {\n      detail: {\n        element: _selfConfirmModal.deletableItem,\n        status: 'OK',\n      },\n    });\n\n    window.dispatchEvent(event);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  loader(is = false) {\n    const spinner = $('#d_confirm__modal button.delete-btn .spinner-border');\n    if (is) spinner.css({ display: 'inline-block' });\n    else spinner.hide();\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async deleteHandle() {\n    _selfConfirmModal.loader(true);\n    if (_selfConfirmModal.deleteUrl) {\n      // eslint-disable-next-line no-undef\n      await axios.delete(_selfConfirmModal.deleteUrl)\n        .then((resp) => {\n          resp = resp.data;\n          _selfConfirmModal.deleteEvent();\n          // eslint-disable-next-line no-undef\n          if (resp.message) showSuccessMessage(resp.message);\n        });\n    } else {\n      _selfConfirmModal.deleteEvent();\n    }\n    _selfConfirmModal.modalVisible('hide');\n    _selfConfirmModal.loader();\n  }\n\n  clickDeletableItem() {\n    _selfConfirmModal.deletableItem = this;\n    _selfConfirmModal.modalVisible();\n    _selfConfirmModal.deleteUrl = $(this).attr('data-url');\n    _selfConfirmModal.deleteEventName = $(this).attr('data-event-name');\n  }\n\n  $_clicks() {\n    $('body').on('click', 'button.__confirm__delete__btn', this.clickDeletableItem);\n    $('#d_confirm__modal').on('click', 'button.delete-btn', this.deleteHandle);\n  }\n\n  init() {\n    _selfConfirmModal = this;\n    _selfConfirmModal.deleteEventName = 'confirmModalEvent';\n    this.$_clicks();\n  }\n}\n\n// eslint-disable-next-line no-new\nnew ConfirmModal();\n"],"names":["_selfConfirmModal","constructor","this","init","modalVisible","type","$","modal","deleteEvent","event","CustomEvent","deleteEventName","detail","element","deletableItem","status","window","dispatchEvent","loader","is","spinner","css","display","hide","deleteHandle","deleteUrl","axios","delete","then","resp","data","message","showSuccessMessage","clickDeletableItem","attr","$_clicks","on"],"mappings":"yEACA,IAAIA,EAuEJ,IApEA,MACEC,WAAAA,GACEC,KAAKC,MACT,CAGEC,YAAAA,CAAaC,EAAO,QAClBC,EAAE,qBAAqBC,MAAMF,EACjC,CAGEG,WAAAA,GACE,MAAMC,EAAQ,IAAIC,YAAYV,EAAkBW,gBAAiB,CAC/DC,OAAQ,CACNC,QAASb,EAAkBc,cAC3BC,OAAQ,QAIZC,OAAOC,cAAcR,EACzB,CAGES,MAAAA,CAAOC,GAAK,GACV,MAAMC,EAAUd,EAAE,uDACda,EAAIC,EAAQC,IAAI,CAAEC,QAAS,iBAC1BF,EAAQG,MACjB,CAGE,kBAAMC,GACJxB,EAAkBkB,QAAO,GACrBlB,EAAkByB,gBAEdC,MAAMC,OAAO3B,EAAkByB,WAClCG,MAAMC,IACLA,EAAOA,EAAKC,KACZ9B,EAAkBQ,cAEdqB,EAAKE,SAASC,mBAAmBH,EAAKE,QAAQ,IAGtD/B,EAAkBQ,cAEpBR,EAAkBI,aAAa,QAC/BJ,EAAkBkB,QACtB,CAEEe,kBAAAA,GACEjC,EAAkBc,cAAgBZ,KAClCF,EAAkBI,eAClBJ,EAAkByB,UAAYnB,EAAEJ,MAAMgC,KAAK,YAC3ClC,EAAkBW,gBAAkBL,EAAEJ,MAAMgC,KAAK,kBACrD,CAEEC,QAAAA,GACE7B,EAAE,QAAQ8B,GAAG,QAAS,gCAAiClC,KAAK+B,oBAC5D3B,EAAE,qBAAqB8B,GAAG,QAAS,oBAAqBlC,KAAKsB,aACjE,CAEErB,IAAAA,GACEH,EAAoBE,KACpBF,EAAkBW,gBAAkB,oBACpCT,KAAKiC,UACT"}